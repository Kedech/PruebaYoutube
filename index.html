<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Música de fondo desde YouTube</title>
</head>
<body>

<!-- Contenedor para el reproductor de YouTube -->
<div id="reproductor"></div>

<!-- Botón de reproducción/pausa -->
<button id="botonReproduccion">Reproducir/Pausar</button>

<script>
// Función para cargar el reproductor de YouTube
function cargarReproductor() {
  // ID del video de YouTube que quieres reproducir
  const videoId = 'EH30RAXnRWs';

  // Configuración del reproductor
  const opciones = {
    height: '0',
    width: '0',
    videoId: videoId,
    playerVars: {
      autoplay: 0, // El video no se reproducirá automáticamente al cargar
      controls: 0, // Ocultar los controles del reproductor de YouTube
      loop: 1, // Repetir el video en bucle
      modestbranding: 1, // Ocultar el logo de YouTube
      rel: 0, // Evitar que aparezcan videos relacionados al final
      mute: 1, // Reproducir el video en silencio
      origin: 'https://prueba-youtube-8ns2.vercel.app/'
    },
    events: {
      'onReady': onPlayerReady,
    }
  };

  // Crear un nuevo reproductor de YouTube
  const reproductor = new YT.Player('reproductor', opciones);

  // Función que se ejecuta cuando el reproductor está listo
  function onPlayerReady(event) {
    // Obtener referencia al botón de reproducción/pausa
    const botonReproduccion = document.getElementById('botonReproduccion');

    // Agregar evento al botón para controlar la reproducción/pausa
    botonReproduccion.addEventListener('click', () => {
      if (reproductor.getPlayerState() === YT.PlayerState.PAUSED ||
          reproductor.getPlayerState() === YT.PlayerState.ENDED) {
        reproductor.playVideo();
      } else {
        reproductor.pauseVideo();
      }
    });
  }
}

// Cargar la API de YouTube
function cargarAPIYoutube() {
  const etiquetaScript = document.createElement('script');
  etiquetaScript.src = 'https://www.youtube.com/iframe_api';
  const primerScript = document.getElementsByTagName('script')[0];
  primerScript.parentNode.insertBefore(etiquetaScript, primerScript);
}

// Llamar a las funciones para cargar la API y el reproductor
cargarAPIYoutube();
window.onYouTubeIframeAPIReady = cargarReproductor;
</script>

</body>
</html>
